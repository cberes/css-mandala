<!doctype html>
<html lang="en">
  <head>
    <title>Mandala?</title>
    <meta charset="utf-8"/>
    <style>
      html, body {
        margin: 5vh 0 0 5vw;
        padding: 0;
      }
      .mandala {
	      position: relative;
      }
      .mandala * {
        border-radius: 50%;
	      width: 50vmin;
	      height: 50vmin;
	      position: absolute;
	      top: 0;
	      left: 0;
        transform-origin: 50% 75%;
	      filter: opacity(20%);
      }
      .s0 {
        background-color: #C62828;
        transform: rotate(0deg);
      }
      .s1 {
        background-color: #F44336;
        transform: rotate(30deg);
      }
      .s2 {
        background-color: #FF6F00;
        transform: rotate(60deg);
      }
      .s3 {
        background-color: #F4D03F;
        transform: rotate(90deg);
      }
      .s4 {
        background-color: #8BC34A;
        transform: rotate(120deg);
      }
      .s5 {
        background-color: #2E7D32;
        transform: rotate(150deg);
      }
      .s6 {
        background-color: #26A69A;
        transform: rotate(180deg);
      }
      .s7 {
        background-color: #00897B;
        transform: rotate(210deg);
      }
      .s8 {
        background-color: #1565C0;
        transform: rotate(240deg);
      }
      .s9 {
        background-color: #7E57C2;
        transform: rotate(270deg);
      }
      .s10 {
        background-color: #880E4F;
        transform: rotate(300deg);
      }
      .s11 {
        background-color: #3949AB;
        transform: rotate(330deg);
      }
    </style>
    <script>
      (function (d, degsPerFrame, delay, className) {
        var angles = [];

        function getOffset(i) {
          return angles.length <= i ? i * 30 : angles[i];
        }

        function putOffset(i, angle) {
          if (angles.length <= i) {
            angles.push(angle);
          } else {
            angles[i] = angle;
          }
        }

        function animate(i, node) {
          var angle = getOffset(i);
          angle += i % 2 == 0 ? degsPerFrame : -degsPerFrame;
          angle = angle >= 0 ? angle % 360 : angle + 360;
          putOffset(i, angle);
          node.style.transform = 'rotate(' + angle + 'deg)';
        }

        function doAnimation() {
          var parent = d.getElementsByClassName(className)[0];
          var children = parent.children;
          return function () {
            var i;
            for (i = 0; i < children.length; ++i) {
              animate(i, children[i]);
            }
          }
        }

        d.onreadystatechange = function () {
          if (d.readyState === 'interactive') {
            setInterval(doAnimation(), delay);
          }
        };
      }(document, 1, 25, 'mandala'));
    </script>
  </head>
  <body>
    <div class="mandala">
      <div class="s0"></div>
      <div class="s1"></div>
      <div class="s2"></div>
      <div class="s3"></div>
      <div class="s4"></div>
      <div class="s5"></div>
      <div class="s6"></div>
      <div class="s7"></div>
      <div class="s8"></div>
      <div class="s9"></div>
      <div class="s10"></div>
      <div class="s11"></div>
    </div>
  </body>
</html>

